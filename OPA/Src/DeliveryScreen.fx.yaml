DeliveryScreen As screen:

    Image9_2 As image:
        Height: =1620
        Image: =gradient_color_blue_155118_1600x900
        ImagePosition: =ImagePosition.Fill
        Width: =2160
        ZIndex: =1

    Rectangle2_6 As rectangle:
        BorderColor: =RGBA(255, 255, 255, 1)
        BorderThickness: =2
        Fill: =RGBA(0, 0, 0, 0)
        Height: =1220
        Width: =1499
        X: =622
        Y: =376
        ZIndex: =2

    Rectangle1_9 As rectangle:
        BorderColor: =RGBA(255, 255, 255, 1)
        BorderThickness: =2
        Fill: =RGBA(0, 0, 0, 1)
        Height: =156
        Width: =2160
        ZIndex: =3

    "GalleryDetails_2 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
        BorderColor: =RGBA(255, 255, 255, 1)
        BorderThickness: =2
        Fill: =RGBA(255, 255, 255, 0.12)
        Height: =1130
        Items: =Filter(RequestItemsList, UID=deliveridVar)
        Layout: =Layout.Vertical
        ShowScrollbar: =false
        TemplatePadding: =0
        TemplateSize: =Min(160, Self.Height - 60)
        Width: =528
        X: =48
        Y: =467
        ZIndex: =4

        Separator1_5 As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =1
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - 1
            ZIndex: =5

        Title1_21 As label:
            Color: =RGBA(255, 255, 255, 1)
            Font: =Font.Verdana
            FontWeight: =FontWeight.Normal
            Height: =52
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: =ThisItem.TypeOfMaterial
            VerticalAlign: =VerticalAlign.Top
            Width: =296
            X: =185
            Y: =18
            ZIndex: =6

        Image2_2 As image:
            BorderColor: =RGBA(255, 255, 255, 1)
            BorderThickness: =2
            Height: =122
            Image: =First(Filter(RequestMaterials, Material=ThisItem.Material)).Thumbnail.Large
            OnSelect: =Select(Parent)
            Width: =130
            X: =13
            Y: =18
            ZIndex: =9

        Title1_19 As label:
            Color: =RGBA(255, 255, 255, 1)
            Font: =Font.Verdana
            FontWeight: =FontWeight.Normal
            Height: =61
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =18
            Text: =ThisItem.Material
            VerticalAlign: =VerticalAlign.Top
            Width: =343
            X: =185
            Y: =52
            ZIndex: =10

        Title1_20 As label:
            Color: =RGBA(255, 255, 255, 1)
            Font: =Font.Verdana
            FontWeight: =FontWeight.Normal
            Height: =36
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =18
            Text: =ThisItem.NumberAttained & "/" & ThisItem.HowMany
            VerticalAlign: =VerticalAlign.Top
            Width: =296
            X: =185
            Y: =113
            ZIndex: =11

    Image4_4 As image:
        Height: =156
        Image: ='reload-1.1s-200px (1)'
        OnSelect: |-
            =Refresh(HeaderMain);
            Refresh(RequestItemsList);
            Refresh(RequestHeader)
        Width: =157
        X: =1846
        ZIndex: =5

    Label2_1 As label:
        Color: =RGBA(255, 255, 255, 1)
        Font: =Font.Verdana
        Height: =78
        Size: =25
        Text: =First(Filter(RequestHeader, UID=deliveridVar)).Grower & ", " & First(Filter(RequestHeader, UID=deliveridVar)).Ranch
        Width: =781
        X: =48
        Y: =174
        ZIndex: =6

    Label2_2 As label:
        Color: =RGBA(255, 255, 255, 1)
        Font: =Font.Verdana
        Height: =78
        Size: =25
        Text: |-
            ="Date Requested: " & First(Filter(RequestHeader, UID=deliveridVar)).DateNeeded & ", " & First(Filter(RequestHeader, UID=deliveridVar)).TimeNeeded
        Width: =781
        X: =48
        Y: =230
        ZIndex: =7

    Label2_3 As label:
        Color: =RGBA(255, 255, 255, 1)
        Font: =Font.Verdana
        Height: =78
        Size: =25
        Text: |-
            ="Contact: " & First(Filter(RequestHeader, UID=deliveridVar)).Contact
        Width: =781
        X: =48
        Y: =290
        ZIndex: =8

    Label2_4 As label:
        Align: =Align.Center
        BorderColor: =RGBA(255, 255, 255, 1)
        BorderThickness: =2
        Color: =RGBA(255, 255, 255, 1)
        Font: =Font.Verdana
        Height: =70
        Size: =25
        Text: ="Items Requested"
        Width: =528
        X: =48
        Y: =376
        ZIndex: =9

    InputName As text:
        Align: =Align.Center
        Default: =""
        Font: =Font.Verdana
        Height: =110
        HintText: ="Type Your Name Here"
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        RadiusTopLeft: =0
        RadiusTopRight: =0
        Reset: =resetVar
        Size: =45
        Width: =1024
        X: =863
        Y: =439
        ZIndex: =10

    PenInput1 As inkControl:
        BorderColor: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(255, 255, 255, 1)
        Height: =686
        OnSelect: =Set(penVar, true)
        Reset: =resetVar
        ShowControls: =false
        Width: =1413
        X: =665
        Y: =599
        ZIndex: =11

    Button5 As button:
        BorderColor: =Color.White
        Fill: =RGBA(0, 0, 0, 0)
        Font: =Font.Verdana
        Height: =232
        OnSelect: |-
            =If(
                Or(
                    IsBlank(InputName.Text), penVar=false), Notify("Please enter name and sign"), 
            Patch(RequestHeader, First(Filter(RequestHeader, UID=deliveridVar)), {
                Status: "Delivered",
                DateCompleted: Today(),
                TimeCompleted: Text(Now(), "HH:mm AM/PM"),
                DeliveredTo: InputName.Text
            }
            );
            
            Patch(HeaderMain, First(Filter(HeaderMain, ID=Value(deliveridVar))), {
                STATUS: "Delivered"
            }
            );
            
            Set(varPic7, JSON(PenInput1.Image ,JSONFormat.IncludeBinaryData));
            Set(varPic8,Mid(varPic7,Find(",",varPic7)+1,Len(varPic7)- Find(",",varPic7)-1  )  );
            Collect(colIncidentPictures, {Pictures: PenInput1.Image, Binary: varPic8, BinaryClean: varPic7, SigBoo: true});
            
            //Needs work
            //'[FINAL]ReportImageStore'.Run(varSK.SUBMITTER, varSK.COMPANY, Value(varSK.ID),"",varSK.GROWER, "[EmpSig]" & Now(), varPic8, false, "", varSK.MODULE, "Employee Signature");
            
            
            
            Navigate(Main);
            Notify("Delivery Complete. Nice Work!", NotificationType.Success);
            
            Set(resetVar, true);
            Set(resetVar, false);
            Set(penVar, false)
            )
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        RadiusTopLeft: =0
        RadiusTopRight: =0
        Size: =45
        Text: ="Complete Delivery"
        Width: =1413
        X: =665
        Y: =1320
        ZIndex: =12

    Label2_5 As label:
        Color: =RGBA(255, 255, 255, 1)
        Font: =Font.Verdana
        Height: =156
        Size: =45
        Text: ="Welcome, " & User().FullName
        Width: =1683
        X: =180
        ZIndex: =13

    Image4_5 As image:
        Height: =156
        Image: ='house-1.1s-200px (5)'
        OnSelect: |-
            =Refresh(HeaderMain);
            Refresh(RequestItemsList);
            Refresh(RequestHeader);
            Navigate(Main);
            Set(resetVar, true);
            Set(resetVar, false)
        Width: =157
        X: =2003
        ZIndex: =14

    Image10_1 As image:
        Height: =123
        Image: ='MicrosoftTeams-image (13)'
        Width: =152
        X: =28
        Y: =16
        ZIndex: =15

